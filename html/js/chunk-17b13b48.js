(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17b13b48"],{"0842":function(t,a,e){"use strict";var n=e("d3ab"),i=e.n(n);i.a},1058:function(t,a,e){"use strict";var n=e("47f6"),i=e.n(n);i.a},"3e27":function(t,a,e){},"47f6":function(t,a,e){},"5e03":function(t,a,e){"use strict";var n=e("3e27"),i=e.n(n);i.a},9406:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-container"},[e(t.currentRole,{tag:"component"})],1)},i=[],r=e("db72"),s=e("2f62"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-editor-container"},[e("panel-group",{attrs:{reports:t.reportDataS},on:{handleSetLineChartData:t.handleSetLineChartData}}),e("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[e("el-col",{attrs:{xs:24,sm:24,lg:24}},[e("div",{staticClass:"chart-wrapper"},[e("line-chart")],1)])],1),e("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[e("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:8},xl:{span:8}}},[e("transaction-table",{attrs:{"type-num":3}})],1),e("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:8},xl:{span:8}}},[e("transaction-table",{attrs:{"type-num":1}})],1),e("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:8},xl:{span:8}}},[e("transaction-table",{attrs:{"type-num":2}})],1)],1)],1)},c=[],o=(e("96cf"),e("3b8d")),u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("newVisitis")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-people"},[e("i",{staticClass:"iconfont icon-zhongjiang4",staticStyle:{"font-size":"30px"}})]),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          "+t._s(t.$t("report.cumulativeWinning_t"))+"\n        ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.reports.cumulativeWinning,decimals:2,duration:2600}})],1)])]),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("messages")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-message"},[e("i",{staticClass:"iconfont icon-3tixian",staticStyle:{"font-size":"30px"}})]),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          "+t._s(t.$t("report.cumulativeReflect_t"))+"\n        ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.reports.cumulativeReflect,decimals:2,duration:3e3}})],1)])]),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("purchases")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-money"},[e("i",{staticClass:"iconfont icon-chongzhi3",staticStyle:{"font-size":"30px"}})]),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          "+t._s(t.$t("report.cumulativeTopUp_t"))+"\n        ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.reports.cumulativeTopUp,decimals:2,duration:3200}})],1)])]),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel",on:{click:function(a){return t.handleSetLineChartData("shoppings")}}},[e("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[e("i",{staticClass:"iconfont icon-touzhu",staticStyle:{"font-size":"30px"}})]),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          "+t._s(t.$t("report.accumulativeBet_t"))+"\n        ")]),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.reports.accumulativeBet,decimals:2,duration:3600}})],1)])])],1)},d=[],h=e("ec1b"),p=e.n(h),m={components:{CountTo:p.a},props:{reports:{type:Object,default:function(){return{}}}},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)}}},b=m,f=(e("1058"),e("2877")),v=Object(f["a"])(b,u,d,!1,null,"b44a88a8",null),y=v.exports,w=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},g=[],$=e("313e"),D=e("ed08"),x={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(D["b"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}},C=e("b775"),_=function(t){return Object(C["a"])({url:"/lottery/report/data",method:"get",params:t})},k=function(t){return Object(C["a"])({url:"/lottery/report/data",method:"post",headers:{"Content-type":"application/x-www-form-urlencoded;charset=UTF-8"},data:t})},N=function(t){return Object(C["a"])({url:"/lottery/report/data",method:"put",headers:{"Content-type":"application/x-www-form-urlencoded;charset=UTF-8"},data:t})},R=function(t){return Object(C["a"])({url:"/lottery/report/data?type="+t.type,method:"delete",headers:{"Content-type":"application/x-www-form-urlencoded;charset=UTF-8"},data:t})};e("817d");var S={mixins:[x],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0}},data:function(){return{chart:null,lineChartData:{}}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var a,e,n,i,r,s,l,c,o,u,d,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.chart=$["init"](this.$el,"macarons"),t.next=3,k();case 3:if(a=t.sent,200===a.code){for(e={},n=[],i=[],r=a.data,s=[],l=[],c=[],h=0;h<r.length;h++)o=this.$options.filters["formatDateYmd"](r[h].createdAt),u=this.$options.filters["balance"](r[h].recharge),d=this.$options.filters["balance"](r[h].withdrawal),u||(u=0),d||(d=0),s.push(o),l.push(u),c.push(d);e.realDate=i,e.realData=n,e.dateStrArry=s,e.rechargeArry=l,e.withdrawArry=c,this.setOptions(e)}case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(t.expectedData,t.actualData,t.realDate,t.realData,t.dateStrArry),e=t.rechargeArry,n=t.withdrawArry;this.chart.setOption({legend:{data:["充值","提现"]},xAxis:{type:"category",data:a.reverse()},yAxis:{type:"value"},series:[{name:"充值",type:"line",data:e.reverse(),markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"提现",type:"line",data:n.reverse(),markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}]})}}},z=S,E=Object(f["a"])(z,w,g,!1,null,null,null),O=E.exports,j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"vertical-table-container"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[3==t.typeNum?e("span",[t._v("昨日统计")]):t._e(),1==t.typeNum?e("span",[t._v("今日统计")]):t._e(),2==t.typeNum?e("span",[t._v("本月统计")]):t._e()]),e("a-timeline",t._l(t.tableData,(function(a,n){return e("a-timeline-item",{key:n+t.typeNum},[t._v("\n        "+t._s(a.label)+" "+t._s(a.value)+"\n      ")])})),1)],1)],1)},L=[],A=(e("c5f6"),{props:{typeNum:{type:Number,default:1}},filters:{statusFilter:function(t){var a={success:"success",pending:"danger"};return a[t]},orderNoFilter:function(t){return t.substring(0,30)}},data:function(){return{list:null,tableData:[],rechargeData:null,withdrawData:null,betData:null,winData:null}},computed:{},created:function(){1==this.typeNum?this.fetchData():2==this.typeNum?this.fetch2Data():3==this.typeNum&&this.fetch3Data()},methods:{fetchData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:a=t.sent,200===a.code&&(this.list=a.data,this.rechargeData=this.$options.filters["balance"](a.data.recharge),this.withdrawData=this.$options.filters["balance"](a.data.withdrawal),this.betData=this.$options.filters["balance"](a.data.bet),this.winData=this.$options.filters["balance"](a.data.win),this.tableData.push({label:"充值",value:this.$options.filters["balance"](a.data.recharge),keyNum:1},{label:"充值人数",value:a.data.rechargePlayer,keyNum:2},{label:"充值笔数",value:a.data.rechargeCount,keyNum:3},{label:"提现",value:this.$options.filters["balance"](a.data.withdrawal),keyNum:4},{label:"提现人数",value:a.data.withdrawalPlayer,keyNum:5},{label:"提现笔数",value:a.data.withdrawalCount,keyNum:6},{label:"投注",value:this.$options.filters["balance"](a.data.bet),keyNum:7},{label:"投注人数",value:a.data.betPlayer,keyNum:8},{label:"中奖",value:this.$options.filters["balance"](a.data.win),keyNum:9},{label:"余额",value:this.$options.filters["balance"](a.data.balance),keyNum:10},{label:"人工加款",value:this.$options.filters["balance"](a.data.manualTopUp),keyNum:11},{label:"人工减款",value:this.$options.filters["balance"](a.data.manualDeduction),keyNum:12}));case 4:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),fetch2Data:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R({type:0});case 2:a=t.sent,200===a.code&&(this.list=a.data,this.rechargeData=this.$options.filters["balance"](a.data.recharge),this.withdrawData=this.$options.filters["balance"](a.data.withdrawal),this.betData=this.$options.filters["balance"](a.data.bet),this.winData=this.$options.filters["balance"](a.data.win),this.tableData.push({label:"充值",value:this.$options.filters["balance"](a.data.recharge),keyNum:1},{label:"充值人数",value:a.data.rechargePlayer,keyNum:2},{label:"充值笔数",value:a.data.rechargeCount,keyNum:3},{label:"提现",value:this.$options.filters["balance"](a.data.withdrawal),keyNum:4},{label:"提现人数",value:a.data.withdrawalPlayer,keyNum:5},{label:"提现笔数",value:a.data.withdrawalCount,keyNum:6},{label:"投注",value:this.$options.filters["balance"](a.data.bet),keyNum:7},{label:"投注人数",value:a.data.betPlayer,keyNum:8},{label:"中奖",value:this.$options.filters["balance"](a.data.win),keyNum:9},{label:"余额",value:this.$options.filters["balance"](a.data.balance),keyNum:10},{label:"人工加款",value:this.$options.filters["balance"](a.data.manualTopUp),keyNum:11},{label:"人工减款",value:this.$options.filters["balance"](a.data.manualDeduction),keyNum:12}));case 4:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),fetch3Data:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R({type:1});case 2:a=t.sent,200===a.code&&(this.list=a.data,this.rechargeData=this.$options.filters["balance"](a.data.recharge),this.withdrawData=this.$options.filters["balance"](a.data.withdrawal),this.betData=this.$options.filters["balance"](a.data.bet),this.winData=this.$options.filters["balance"](a.data.win),this.tableData.push({label:"充值",value:this.$options.filters["balance"](a.data.recharge),keyNum:1},{label:"充值人数",value:a.data.rechargePlayer,keyNum:2},{label:"充值笔数",value:a.data.rechargeCount,keyNum:3},{label:"提现",value:this.$options.filters["balance"](a.data.withdrawal),keyNum:4},{label:"提现人数",value:a.data.withdrawalPlayer,keyNum:5},{label:"提现笔数",value:a.data.withdrawalCount,keyNum:6},{label:"投注",value:this.$options.filters["balance"](a.data.bet),keyNum:7},{label:"投注人数",value:a.data.betPlayer,keyNum:8},{label:"中奖",value:this.$options.filters["balance"](a.data.win),keyNum:9},{label:"余额",value:this.$options.filters["balance"](a.data.balance),keyNum:10},{label:"人工加款",value:this.$options.filters["balance"](a.data.manualTopUp),keyNum:11},{label:"人工减款",value:this.$options.filters["balance"](a.data.manualDeduction),keyNum:12}));case 4:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}()}}),T=A,P=(e("947e"),Object(f["a"])(T,j,L,!1,null,"5ce69e2e",null)),U=P.exports,H={name:"DashboardAdmin",components:{PanelGroup:y,LineChart:O,TransactionTable:U},data:function(){return{reportDataS:{}}},created:function(){this.getList()},methods:{getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var a,e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},t.next=3,_();case 3:e=t.sent,200===e.code&&(n=e.data,a.cumulativeWinning=this.$options.filters["balance"](n.cumulativeWinning),a.cumulativeReflect=this.$options.filters["balance"](n.cumulativeReflect),a.cumulativeTopUp=this.$options.filters["balance"](n.cumulativeTopUp),a.accumulativeBet=this.$options.filters["balance"](n.accumulativeBet),this.reportDataS=a);case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),getLineData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var a,e,n,i,s,l,c,o,u,d,h,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k();case 2:if(a=t.sent,200===a.code){for(e={},n=[],i=[],s=a.data,l=[],c=[],o=[],p=0;p<s.length;p++)e.recharge=this.$options.filters["balance"](s[p].recharge),e.withdrawal=this.$options.filters["balance"](s[p].withdrawal),e.bet=this.$options.filters["balance"](s[p].bet),e.win=this.$options.filters["balance"](s[p].win),e.createdAt=this.$options.filters["formatDate"](s[p].createdAt),i.push(this.$options.filters["formatDateYmd"](s[p].createdAt)),n.push(Object(r["a"])({},e)),u=this.$options.filters["formatDateYmd"](s[p].createdAt),d=this.$options.filters["balance"](s[p].recharge),h=this.$options.filters["balance"](s[p].withdrawal),d||(d=0),h||(h=0),l.push(u),c.push(d),o.push(h);this.lineChartData.realDate=i,this.lineChartData.realData=n,this.lineChartData.dateStrArry=l,this.lineChartData.rechargeArry=c,this.lineChartData.withdrawArry=o}case 4:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),handleSetLineChartData:function(t){}}},B=H,F=(e("0842"),Object(f["a"])(B,l,c,!1,null,"4b5111e2",null)),W=F.exports,Y=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-editor-container"},[e("div",{staticClass:" clearfix"},[e("div",{staticClass:"info-container"},[e("span",{staticStyle:{"font-size":"20px","padding-top":"20px",display:"inline-block"}},[t._v("welcome~")])])]),e("div")])}],G={name:"DashboardEditor",data:function(){return{avatar:"static/img/avatar.d25a6cc8.gif"}},computed:Object(r["a"])({},Object(s["b"])(["name","roles"]))},V=G,q=(e("5e03"),Object(f["a"])(V,Y,J,!1,null,"1623be93",null)),I=q.exports,K={name:"Dashboard",components:{adminDashboard:W,editorDashboard:I},data:function(){return{currentRole:"adminDashboard"}},computed:Object(r["a"])({},Object(s["b"])(["roles"])),created:function(){this.currentRole="adminDashboard"}},M=K,Q=Object(f["a"])(M,n,i,!1,null,null,null);a["default"]=Q.exports},"947e":function(t,a,e){"use strict";var n=e("d4b1"),i=e.n(n);i.a},d3ab:function(t,a,e){},d4b1:function(t,a,e){}}]);